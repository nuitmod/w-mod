<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script
        src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>
  <title>main aiohttp</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000" />

<script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
  <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>

    </head>
    <body>
  <style media="screen">
    body{
      -webkit-text-size-adjust: 100%;
      margin: 0;
      padding: 0;
      font-size: 12px;
      color: ghostwhite;
      background: #000;
    }
    input{
      color: ghostwhite;
      background-color: #000;
      height: 7px;
    }
    button{
      color: ghostwhite;
      background-color: #000;
    }
  </style>
<h5>pyw-prs index</h5>
  <section id="fetch-dat">
    <h6>fetch request</h6>
    <form>
     <input id="dat" type="text" name="data" value="" placeholder="data">
     <button id="in-btn" type="button" name="" value="in_api"></button>
     <button id="btn-fetch" type="button" name="" value="fetch"></button>
    </form>

    <h5>aio output:</h5>
    <div id="in-out"></div>
    <h5>py fetch output:</h5>
    <div id="f-out"></div>
    <br>
</section>

<amp-list width="auto"
  height="50"
  layout="fixed-height"
  src="https://pyw-prs.vercel.app/api">
  <template type="amp-mustache">
    <div class="url-entry">
      <a href="{{mod1.name1}}">{{mod1.job1}}</a>
    </div>
</template>
</amp-list>

<amp-list width="auto"
  height="50"
  layout="fixed-height"
  src="./api">
  <template type="amp-mustache">
    <div class="url-entry">
      <a href="{{mod2.name2}}">{{mod2.job2}}</a>
    </div>
</template>
</amp-list>

<div>
  <iframe src="https://nuitmod.github.io/io_proj/amp/index.html" width="790" height="1399"
    frameborder=0
    sandbox="allow-scripts allow-same-origin"
  ></iframe>
  <iframe src="https://nuitmod.github.io/npx_io/index.html" width="790" height="1000"
    frameborder=0
    sandbox="allow-scripts allow-same-origin"
  ></iframe>
  <iframe src="https://nuitmod.github.io/ini_pwa/amp/index.html" width="790" height="1299"
    frameborder=0
    sandbox="allow-scripts allow-same-origin"
  ></iframe>
</div>
<script>

var url_lh="http://localhost:8080/api"
var url_hrk="https://py-pro-i.herokuapp.com/api"

async function inner_req(){
  var fetch_data=await fetch(url_lh)
  var data = await fetch_data.json()
  console.log("result of inner fetch ", data);
  $('#in-out').text(data.dat);
}

async function fetch_dat(){
  var fetch_data=await fetch(url_hrk)
  var data = await fetch_data.json()
  //console.log("result of fetch ", data);
  $('#f-out').text(data.dat);
  }

$('#in-btn').on('click', inner_req)
$('#btn-fetch').on('click', fetch_dat)

</script>

<script>

    // ServiceWorker Registration
    if('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('sw.js').then(function(registration) {
                // Registration was successful
                console.log('ServiceWorker registration successful with scope: ', registration.scope);

            }, function(err) {
                // registration failed :(
                console.log('ServiceWorker registration failed: ', err);
            });
        });
    }


</script>
</body>
</html>
